Виніс змінні за межі CallBack функцій.
Створив попередньо два масиви для Tx та Rx розміром 255 (просто, зарезервував пам'ять заздалегідь).
Звісно, можна було б використовувати memset() для очистки потрібної кількості пам'яті, але вирішив не ускладнювати, а зробити дві змінні типу volatile в яких зберігається довжина буферу lenTx та lenRx
Думаю, ти подумаєш і зрозумієш, як краще можна було це зробити. Зараз зробив, щоб бути ближче до твого коду.
